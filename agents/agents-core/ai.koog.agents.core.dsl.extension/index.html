<!doctype html>
<html class="no-js">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8">
    <title>ai.koog.agents.core.dsl.extension</title>
<link href="../../../images/logo-icon.svg" rel="icon" type="image/svg">    <script>var pathToRoot = "../../../";</script>
    <script>document.documentElement.classList.replace("no-js","js");</script>
    <script>const storage = localStorage.getItem("dokka-dark-mode")
    if (storage == null) {
        const osDarkSchemePreferred = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
        if (osDarkSchemePreferred === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    } else {
        const savedDarkMode = JSON.parse(storage)
        if(savedDarkMode === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    }
    </script>
<script type="text/javascript" src="https://unpkg.com/kotlin-playground@1/dist/playground.min.js" async></script>
<script type="text/javascript" src="../../../scripts/sourceset_dependencies.js" async></script>
<link href="../../../styles/style.css" rel="Stylesheet">
<link href="../../../styles/main.css" rel="Stylesheet">
<link href="../../../styles/prism.css" rel="Stylesheet">
<link href="../../../styles/logo-styles.css" rel="Stylesheet">
<link href="../../../styles/font-jb-sans-auto.css" rel="Stylesheet">
<link href="../../../ui-kit/ui-kit.min.css" rel="Stylesheet">
<script type="text/javascript" src="../../../scripts/clipboard.js" async></script>
<script type="text/javascript" src="../../../scripts/navigation-loader.js" async></script>
<script type="text/javascript" src="../../../scripts/platform-content-handler.js" async></script>
<script type="text/javascript" src="../../../scripts/main.js" defer></script>
<script type="text/javascript" src="../../../scripts/prism.js" async></script>
<script type="text/javascript" src="../../../ui-kit/ui-kit.min.js" defer></script>
<script type="text/javascript" src="../../../scripts/symbol-parameters-wrapper_deferred.js" defer></script></head>
<body>
    <div class="root">
    <nav class="navigation theme-dark" id="navigation-wrapper">
<a class="library-name--link" href="../../../index.html">
                    koog
            </a>        <button class="navigation-controls--btn navigation-controls--btn_toc ui-kit_mobile-only" id="toc-toggle" type="button">Toggle table of contents
        </button>
        <div class="navigation-controls--break ui-kit_mobile-only"></div>
        <div class="library-version" id="library-version">0.5.2-SNAPSHOT
        </div>
        <div class="navigation-controls">
        <div class="filter-section filter-section_loading" id="filter-section">
                <button class="platform-tag platform-selector common-like" data-active="" data-filter=":agents:agents-core/commonMain">common</button>
            <div class="dropdown filter-section--dropdown" data-role="dropdown" id="filter-section-dropdown">
                <button class="button button_dropdown filter-section--dropdown-toggle" role="combobox" data-role="dropdown-toggle" aria-controls="platform-tags-listbox" aria-haspopup="listbox" aria-expanded="false" aria-label="Toggle source sets"></button>
                <ul role="listbox" id="platform-tags-listbox" class="dropdown--list" data-role="dropdown-listbox">
                    <div class="dropdown--header"><span>Platform filter</span>
                        <button class="button" data-role="dropdown-toggle" aria-label="Close platform filter">
                            <i class="ui-kit-icon ui-kit-icon_cross"></i>
                        </button>
                    </div>
                        <li role="option" class="dropdown--option platform-selector-option common-like" tabindex="0">
                            <label class="checkbox">
                                <input type="checkbox" class="checkbox--input" id=":agents:agents-core/commonMain" data-filter=":agents:agents-core/commonMain">
                                <span class="checkbox--icon"></span>
                                common
                            </label>
                        </li>
                </ul>
                <div class="dropdown--overlay"></div>
            </div>
        </div>
            <button class="navigation-controls--btn navigation-controls--btn_theme" id="theme-toggle-button" type="button">Switch theme
            </button>
            <div class="navigation-controls--btn navigation-controls--btn_search" id="searchBar" role="button">Search in
                API
            </div>
        </div>
    </nav>
        <div id="container">
            <div class="sidebar" id="leftColumn">
                <div class="dropdown theme-dark_mobile" data-role="dropdown" id="toc-dropdown">
                    <ul role="listbox" id="toc-listbox" class="dropdown--list dropdown--list_toc-list" data-role="dropdown-listbox">
                        <div class="dropdown--header">
                            <span>
                                    koog
                            </span>
                            <button class="button" data-role="dropdown-toggle" aria-label="Close table of contents">
                                <i class="ui-kit-icon ui-kit-icon_cross"></i>
                            </button>
                        </div>
                        <div class="sidebar--inner" id="sideMenu"></div>
                    </ul>
                    <div class="dropdown--overlay"></div>
                </div>
            </div>
            <div id="main">
<div class="main-content" data-page-type="package" id="content" pageids="agents-core::ai.koog.agents.core.dsl.extension////PointingToDeclaration//643085981">
  <div class="breadcrumbs"><a href="../index.html">agents-core</a><span class="delimiter">/</span><span class="current">ai.koog.agents.core.dsl.extension</span></div>
  <div class="cover ">
    <h1 class="cover"><span><span>Package-level</span></span> <span><span>declarations</span></span></h1>
  </div>
  <div class="tabbedcontent">
    <div class="tabs-section" tabs-section="tabs-section"><button class="section-tab" data-active="" data-togglable="TYPE">Types</button><button class="section-tab" data-togglable="FUNCTION,EXTENSION_FUNCTION">Functions</button></div>
    <div class="tabs-section-body">
      <div data-togglable="TYPE">
        <h2 class="">Types</h2>
        <div class="table"><a data-name="444020304%2FClasslikes%2F643085981" anchor-label="HistoryCompressionStrategy" id="444020304%2FClasslikes%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="-history-compression-strategy/index.html"><span>History</span><wbr><span>Compression</span><wbr><span><span>Strategy</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="444020304%2FClasslikes%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">abstract </span><span class="token keyword">class </span><a href="-history-compression-strategy/index.html">HistoryCompressionStrategy</a></div><div class="brief "><p class="paragraph">Represents an abstract strategy for compressing the history of messages in a <code class="lang-kotlin">AIAgentLLMWriteSession</code>. Different implementations define specific approaches to reducing the context size while maintaining key information.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="-1769047249%2FClasslikes%2F643085981" anchor-label="ModeratedMessage" id="-1769047249%2FClasslikes%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="-moderated-message/index.html"><span>Moderated</span><wbr><span><span>Message</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-1769047249%2FClasslikes%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">data </span><span class="token keyword">class </span><a href="-moderated-message/index.html">ModeratedMessage</a><span class="token punctuation">(</span><span class="parameters "><span class="parameter "><span class="token keyword">val </span>message<span class="token operator">: </span><a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/index.html">Message</a><span class="token punctuation">, </span></span><span class="parameter "><span class="token keyword">val </span>moderationResult<span class="token operator">: </span><a href="../../../prompt/prompt-model/ai.koog.prompt.dsl/-moderation-result/index.html">ModerationResult</a></span></span><span class="token punctuation">)</span></div><div class="brief "><p class="paragraph">Represents a message that has undergone moderation and the result of the moderation.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div data-togglable="EXTENSION_FUNCTION">
        <h2 class="">Functions</h2>
        <div class="table"><a data-name="-1363282662%2FFunctions%2F643085981" anchor-label="asAssistantMessage" id="-1363282662%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="as-assistant-message.html"><span>as</span><wbr><span>Assistant</span><wbr><span><span>Message</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-1363282662%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">fun </span><a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/-response/index.html">Message.Response</a><span class="token punctuation">.</span><a href="as-assistant-message.html"><span class="token function">asAssistantMessage</span></a><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/-assistant/index.html">Message.Assistant</a></div><div class="brief "><p class="paragraph">Casts the current instance of a <a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/-response/index.html">Message.Response</a> to a <a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/-assistant/index.html">Message.Assistant</a>. This function should only be used when it is guaranteed that the instance is of type <a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/-assistant/index.html">Message.Assistant</a>, as it will throw an exception if the type does not match.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="-860707644%2FFunctions%2F643085981" anchor-label="asAssistantMessageOrNull" id="-860707644%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="as-assistant-message-or-null.html"><span>as</span><wbr><span>Assistant</span><wbr><span>Message</span><wbr><span>Or</span><wbr><span><span>Null</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-860707644%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">fun </span><a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/-response/index.html">Message.Response</a><span class="token punctuation">.</span><a href="as-assistant-message-or-null.html"><span class="token function">asAssistantMessageOrNull</span></a><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/-assistant/index.html">Message.Assistant</a><span class="token operator">?</span></div><div class="brief "><p class="paragraph">Attempts to cast a <code class="lang-kotlin">Message.Response</code> instance to a <code class="lang-kotlin">Message.Assistant</code> type.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="1590754246%2FFunctions%2F643085981" anchor-label="clearHistory" id="1590754246%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="clear-history.html"><span>clear</span><wbr><span><span>History</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="1590754246%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">fun </span><a href="../ai.koog.agents.core.agent.session/-a-i-agent-l-l-m-write-session/index.html">AIAgentLLMWriteSession</a><span class="token punctuation">.</span><a href="clear-history.html"><span class="token function">clearHistory</span></a><span class="token punctuation">(</span><span class="token punctuation">)</span></div><div class="brief "><p class="paragraph">Clears the history of messages in the current AI Agent LLM Write Session.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="1111772404%2FFunctions%2F643085981" anchor-label="compressHistory" id="1111772404%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="compress-history.html"><span>compress</span><wbr><span><span>History</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="1111772404%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">suspend </span><span class="token keyword">fun </span><a href="../ai.koog.agents.core.agent.context/-a-i-agent-functional-context/index.html">AIAgentFunctionalContext</a><span class="token punctuation">.</span><a href="compress-history.html"><span class="token function">compressHistory</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">strategy<span class="token operator">: </span><a href="-history-compression-strategy/index.html">HistoryCompressionStrategy</a><span class="token operator"> = </span>HistoryCompressionStrategy.WholeHistory<span class="token punctuation">, </span></span><span class="parameter ">preserveMemory<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-boolean/index.html">Boolean</a><span class="token operator"> = </span><span class="token boolean">true</span></span></span><span class="token punctuation">)</span></div><div class="brief "><p class="paragraph">Compresses the current LLM prompt (message history) into a summary, replacing messages with a TLDR.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="-910914439%2FFunctions%2F643085981" anchor-label="containsToolCalls" id="-910914439%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="contains-tool-calls.html"><span>contains</span><wbr><span>Tool</span><wbr><span><span>Calls</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-910914439%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">fun </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.collections/-list/index.html">List</a><span class="token operator">&lt;</span><a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/-response/index.html">Message.Response</a><span class="token operator">&gt;</span><span class="token punctuation">.</span><a href="contains-tool-calls.html"><span class="token function">containsToolCalls</span></a><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-boolean/index.html">Boolean</a></div><div class="brief "><p class="paragraph">Checks if the list of <code class="lang-kotlin">Message.Response</code> contains any instances of <code class="lang-kotlin">Message.Tool.Call</code>.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="1921981064%2FFunctions%2F643085981" anchor-label="dropLastNMessages" id="1921981064%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="drop-last-n-messages.html"><span>drop</span><wbr><span>Last</span><wbr><span><span>NMessages</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="1921981064%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">fun </span><a href="../ai.koog.agents.core.agent.session/-a-i-agent-l-l-m-write-session/index.html">AIAgentLLMWriteSession</a><span class="token punctuation">.</span><a href="drop-last-n-messages.html"><span class="token function">dropLastNMessages</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">n<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-int/index.html">Int</a><span class="token punctuation">, </span></span><span class="parameter ">preserveSystemMessages<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-boolean/index.html">Boolean</a><span class="token operator"> = </span><span class="token boolean">true</span></span></span><span class="token punctuation">)</span></div><div class="brief "><p class="paragraph">Removes the last <code class="lang-kotlin">n</code> messages from the current prompt in the write session.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="606453121%2FFunctions%2F643085981" anchor-label="dropTrailingToolCalls" id="606453121%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="drop-trailing-tool-calls.html"><span>drop</span><wbr><span>Trailing</span><wbr><span>Tool</span><wbr><span><span>Calls</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="606453121%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">fun </span><a href="../ai.koog.agents.core.agent.session/-a-i-agent-l-l-m-write-session/index.html">AIAgentLLMWriteSession</a><span class="token punctuation">.</span><a href="drop-trailing-tool-calls.html"><span class="token function">dropTrailingToolCalls</span></a><span class="token punctuation">(</span><span class="token punctuation">)</span></div><div class="brief "><p class="paragraph">Drops all trailing tool call messages from the current prompt</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="1149103078%2FFunctions%2F643085981" anchor-label="executeMultipleTools" id="1149103078%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="execute-multiple-tools.html"><span>execute</span><wbr><span>Multiple</span><wbr><span><span>Tools</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="1149103078%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">suspend </span><span class="token keyword">fun </span><a href="../ai.koog.agents.core.agent.context/-a-i-agent-functional-context/index.html">AIAgentFunctionalContext</a><span class="token punctuation">.</span><a href="execute-multiple-tools.html"><span class="token function">executeMultipleTools</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">toolCalls<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.collections/-list/index.html">List</a><span class="token operator">&lt;</span><a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/-tool/-call/index.html">Message.Tool.Call</a><span class="token operator">&gt;</span><span class="token punctuation">, </span></span><span class="parameter ">parallelTools<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-boolean/index.html">Boolean</a><span class="token operator"> = </span><span class="token boolean">false</span></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.collections/-list/index.html">List</a><span class="token operator">&lt;</span><a href="../ai.koog.agents.core.environment/-received-tool-result/index.html">ReceivedToolResult</a><span class="token operator">&gt;</span></div><div class="brief "><p class="paragraph">Executes multiple tool calls and returns their results. These calls can optionally be executed in parallel.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="-2027684725%2FFunctions%2F643085981" anchor-label="executeSingleTool" id="-2027684725%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="execute-single-tool.html"><span>execute</span><wbr><span>Single</span><wbr><span><span>Tool</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-2027684725%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">inline suspend </span><span class="token keyword">fun </span><span class="token operator">&lt;</span><a href="execute-single-tool.html">ToolArg</a><span class="token operator"> : </span><a href="../../../agents/agents-tools/ai.koog.agents.core.tools/-tool-args/index.html">ToolArgs</a><span class="token punctuation">, </span><a href="execute-single-tool.html">TResult</a><span class="token operator"> : </span><a href="../../../agents/agents-tools/ai.koog.agents.core.tools/-tool-result/index.html">ToolResult</a><span class="token operator">&gt; </span><a href="../ai.koog.agents.core.agent.context/-a-i-agent-functional-context/index.html">AIAgentFunctionalContext</a><span class="token punctuation">.</span><a href="execute-single-tool.html"><span class="token function">executeSingleTool</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">tool<span class="token operator">: </span><a href="../../../agents/agents-tools/ai.koog.agents.core.tools/-tool/index.html">Tool</a><span class="token operator">&lt;</span><a href="execute-single-tool.html">ToolArg</a><span class="token punctuation">, </span><a href="execute-single-tool.html">TResult</a><span class="token operator">&gt;</span><span class="token punctuation">, </span></span><span class="parameter ">toolArgs<span class="token operator">: </span><a href="execute-single-tool.html">ToolArg</a><span class="token punctuation">, </span></span><span class="parameter ">doAppendPrompt<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-boolean/index.html">Boolean</a><span class="token operator"> = </span><span class="token boolean">true</span></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../ai.koog.agents.core.environment/-safe-tool/-result/index.html">SafeTool.Result</a><span class="token operator">&lt;</span><a href="execute-single-tool.html">TResult</a><span class="token operator">&gt;</span></div><div class="brief "><p class="paragraph">Calls a specific tool directly using the provided arguments.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="-628080019%2FFunctions%2F643085981" anchor-label="executeTool" id="-628080019%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="execute-tool.html"><span>execute</span><wbr><span><span>Tool</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-628080019%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">suspend </span><span class="token keyword">fun </span><a href="../ai.koog.agents.core.agent.context/-a-i-agent-functional-context/index.html">AIAgentFunctionalContext</a><span class="token punctuation">.</span><a href="execute-tool.html"><span class="token function">executeTool</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">toolCall<span class="token operator">: </span><a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/-tool/-call/index.html">Message.Tool.Call</a></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../ai.koog.agents.core.environment/-received-tool-result/index.html">ReceivedToolResult</a></div><div class="brief "><p class="paragraph">Executes a tool call and returns the result.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="-1616831687%2FFunctions%2F643085981" anchor-label="extractToolCalls" id="-1616831687%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="extract-tool-calls.html"><span>extract</span><wbr><span>Tool</span><wbr><span><span>Calls</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-1616831687%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">fun </span><a href="../ai.koog.agents.core.agent.context/-a-i-agent-functional-context/index.html">AIAgentFunctionalContext</a><span class="token punctuation">.</span><a href="extract-tool-calls.html"><span class="token function">extractToolCalls</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">response<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.collections/-list/index.html">List</a><span class="token operator">&lt;</span><a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/-response/index.html">Message.Response</a><span class="token operator">&gt;</span></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.collections/-list/index.html">List</a><span class="token operator">&lt;</span><a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/-tool/-call/index.html">Message.Tool.Call</a><span class="token operator">&gt;</span></div><div class="brief "><p class="paragraph">Extracts a list of tool call messages from a given list of response messages.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="508819885%2FFunctions%2F643085981" anchor-label="latestTokenUsage" id="508819885%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="latest-token-usage.html"><span>latest</span><wbr><span>Token</span><wbr><span><span>Usage</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="508819885%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">suspend </span><span class="token keyword">fun </span><a href="../ai.koog.agents.core.agent.context/-a-i-agent-functional-context/index.html">AIAgentFunctionalContext</a><span class="token punctuation">.</span><a href="latest-token-usage.html"><span class="token function">latestTokenUsage</span></a><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-int/index.html">Int</a></div><div class="brief "><p class="paragraph">Retrieves the latest token usage from the prompt within the LLM session.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="1967671878%2FFunctions%2F643085981" anchor-label="leaveLastNMessages" id="1967671878%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="leave-last-n-messages.html"><span>leave</span><wbr><span>Last</span><wbr><span><span>NMessages</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="1967671878%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">fun </span><a href="../ai.koog.agents.core.agent.session/-a-i-agent-l-l-m-write-session/index.html">AIAgentLLMWriteSession</a><span class="token punctuation">.</span><a href="leave-last-n-messages.html"><span class="token function">leaveLastNMessages</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">n<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-int/index.html">Int</a><span class="token punctuation">, </span></span><span class="parameter ">preserveSystemMessages<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-boolean/index.html">Boolean</a><span class="token operator"> = </span><span class="token boolean">true</span></span></span><span class="token punctuation">)</span></div><div class="brief "><p class="paragraph">Keeps only the last N messages in the session's prompt by removing all earlier messages.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="-789527195%2FFunctions%2F643085981" anchor-label="leaveMessagesFromTimestamp" id="-789527195%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="leave-messages-from-timestamp.html"><span>leave</span><wbr><span>Messages</span><wbr><span>From</span><wbr><span><span>Timestamp</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-789527195%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">fun </span><a href="../ai.koog.agents.core.agent.session/-a-i-agent-l-l-m-write-session/index.html">AIAgentLLMWriteSession</a><span class="token punctuation">.</span><a href="leave-messages-from-timestamp.html"><span class="token function">leaveMessagesFromTimestamp</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">timestamp<span class="token operator">: </span><span data-unresolved-link="kotlinx.datetime/Instant///PointingToDeclaration/">Instant</span><span class="token punctuation">, </span></span><span class="parameter ">preserveSystemMessages<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-boolean/index.html">Boolean</a><span class="token operator"> = </span><span class="token boolean">true</span></span></span><span class="token punctuation">)</span></div><div class="brief "><p class="paragraph">Removes all messages from the current session's prompt that have a timestamp earlier than the specified timestamp.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="-325171715%2FFunctions%2F643085981" anchor-label="nodeAppendPrompt" id="-325171715%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="node-append-prompt.html"><span>node</span><wbr><span>Append</span><wbr><span><span>Prompt</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-325171715%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">inline </span><span class="token keyword">fun </span><span class="token operator">&lt;</span><a href="node-append-prompt.html">T</a><span class="token operator">&gt; </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-subgraph-builder-base/index.html">AIAgentSubgraphBuilderBase</a><span class="token operator">&lt;</span><span class="token operator">*</span><span class="token punctuation">, </span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">.</span><a href="node-append-prompt.html"><span class="token function">nodeAppendPrompt</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">name<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a><span class="token operator">?</span><span class="token operator"> = </span>null<span class="token punctuation">, </span></span><span class="parameter "><span class="token keyword">noinline </span>body<span class="token operator">: </span><a href="../../../prompt/prompt-model/ai.koog.prompt.dsl/-prompt-builder/index.html">PromptBuilder</a><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator"> -&gt; </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-unit/index.html">Unit</a></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-node-delegate/index.html">AIAgentNodeDelegate</a><span class="token operator">&lt;</span><a href="node-append-prompt.html">T</a><span class="token punctuation">, </span><a href="node-append-prompt.html">T</a><span class="token operator">&gt;</span></div><div class="brief "><p class="paragraph">A node that adds messages to the LLM prompt using the provided prompt builder. The input is passed as it is to the output.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="-1023516037%2FFunctions%2F643085981" anchor-label="nodeDoNothing" id="-1023516037%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="node-do-nothing.html"><span>node</span><wbr><span>Do</span><wbr><span><span>Nothing</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-1023516037%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">inline </span><span class="token keyword">fun </span><span class="token operator">&lt;</span><a href="node-do-nothing.html">T</a><span class="token operator">&gt; </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-subgraph-builder-base/index.html">AIAgentSubgraphBuilderBase</a><span class="token operator">&lt;</span><span class="token operator">*</span><span class="token punctuation">, </span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">.</span><a href="node-do-nothing.html"><span class="token function">nodeDoNothing</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">name<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a><span class="token operator">?</span><span class="token operator"> = </span>null</span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-node-delegate/index.html">AIAgentNodeDelegate</a><span class="token operator">&lt;</span><a href="node-do-nothing.html">T</a><span class="token punctuation">, </span><a href="node-do-nothing.html">T</a><span class="token operator">&gt;</span></div><div class="brief "><p class="paragraph">A pass-through node that does nothing and returns input as output</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="296321707%2FFunctions%2F643085981" anchor-label="nodeExecuteMultipleTools" id="296321707%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="node-execute-multiple-tools.html"><span>node</span><wbr><span>Execute</span><wbr><span>Multiple</span><wbr><span><span>Tools</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="296321707%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">fun </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-subgraph-builder-base/index.html">AIAgentSubgraphBuilderBase</a><span class="token operator">&lt;</span><span class="token operator">*</span><span class="token punctuation">, </span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">.</span><a href="node-execute-multiple-tools.html"><span class="token function">nodeExecuteMultipleTools</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">name<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a><span class="token operator">?</span><span class="token operator"> = </span>null<span class="token punctuation">, </span></span><span class="parameter ">parallelTools<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-boolean/index.html">Boolean</a><span class="token operator"> = </span><span class="token boolean">false</span></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-node-delegate/index.html">AIAgentNodeDelegate</a><span class="token operator">&lt;</span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.collections/-list/index.html">List</a><span class="token operator">&lt;</span><a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/-tool/-call/index.html">Message.Tool.Call</a><span class="token operator">&gt;</span><span class="token punctuation">, </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.collections/-list/index.html">List</a><span class="token operator">&lt;</span><a href="../ai.koog.agents.core.environment/-received-tool-result/index.html">ReceivedToolResult</a><span class="token operator">&gt;</span><span class="token operator">&gt;</span></div><div class="brief "><p class="paragraph">A node that executes multiple tool calls. These calls can optionally be executed in parallel.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="1379938612%2FFunctions%2F643085981" anchor-label="nodeExecuteMultipleToolsAndSendResults" id="1379938612%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="node-execute-multiple-tools-and-send-results.html"><span>node</span><wbr><span>Execute</span><wbr><span>Multiple</span><wbr><span>Tools</span><wbr><span>And</span><wbr><span>Send</span><wbr><span><span>Results</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="1379938612%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">fun </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-subgraph-builder-base/index.html">AIAgentSubgraphBuilderBase</a><span class="token operator">&lt;</span><span class="token operator">*</span><span class="token punctuation">, </span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">.</span><a href="node-execute-multiple-tools-and-send-results.html"><span class="token function">nodeExecuteMultipleToolsAndSendResults</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">name<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a><span class="token operator">?</span><span class="token operator"> = </span>null<span class="token punctuation">, </span></span><span class="parameter ">parallelTools<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-boolean/index.html">Boolean</a><span class="token operator"> = </span><span class="token boolean">false</span></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-node-delegate/index.html">AIAgentNodeDelegate</a><span class="token operator">&lt;</span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.collections/-list/index.html">List</a><span class="token operator">&lt;</span><a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/-tool/-call/index.html">Message.Tool.Call</a><span class="token operator">&gt;</span><span class="token punctuation">, </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.collections/-list/index.html">List</a><span class="token operator">&lt;</span><a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/-response/index.html">Message.Response</a><span class="token operator">&gt;</span><span class="token operator">&gt;</span></div><div class="brief "><p class="paragraph">Creates a node in the AI agent subgraph that processes a collection of tool calls, executes them, and sends back the results to the downstream process. The tools can be executed either in parallel or sequentially based on the provided configuration.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="1474862953%2FFunctions%2F643085981" anchor-label="nodeExecuteSingleTool" id="1474862953%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="node-execute-single-tool.html"><span>node</span><wbr><span>Execute</span><wbr><span>Single</span><wbr><span><span>Tool</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="1474862953%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">inline </span><span class="token keyword">fun </span><span class="token operator">&lt;</span><a href="node-execute-single-tool.html">ToolArg</a><span class="token punctuation">, </span><a href="node-execute-single-tool.html">TResult</a><span class="token operator">&gt; </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-subgraph-builder-base/index.html">AIAgentSubgraphBuilderBase</a><span class="token operator">&lt;</span><span class="token operator">*</span><span class="token punctuation">, </span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">.</span><a href="node-execute-single-tool.html"><span class="token function">nodeExecuteSingleTool</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">name<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a><span class="token operator">?</span><span class="token operator"> = </span>null<span class="token punctuation">, </span></span><span class="parameter ">tool<span class="token operator">: </span><a href="../../../agents/agents-tools/ai.koog.agents.core.tools/-tool/index.html">Tool</a><span class="token operator">&lt;</span><a href="node-execute-single-tool.html">ToolArg</a><span class="token punctuation">, </span><a href="node-execute-single-tool.html">TResult</a><span class="token operator">&gt;</span><span class="token punctuation">, </span></span><span class="parameter ">doAppendPrompt<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-boolean/index.html">Boolean</a><span class="token operator"> = </span><span class="token boolean">true</span></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-node-delegate/index.html">AIAgentNodeDelegate</a><span class="token operator">&lt;</span><a href="node-execute-single-tool.html">ToolArg</a><span class="token punctuation">, </span><a href="../ai.koog.agents.core.environment/-safe-tool/-result/index.html">SafeTool.Result</a><span class="token operator">&lt;</span><a href="node-execute-single-tool.html">TResult</a><span class="token operator">&gt;</span><span class="token operator">&gt;</span></div><div class="brief "><p class="paragraph">A node that calls a specific tool directly using the provided arguments.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="605316454%2FFunctions%2F643085981" anchor-label="nodeExecuteTool" id="605316454%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="node-execute-tool.html"><span>node</span><wbr><span>Execute</span><wbr><span><span>Tool</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="605316454%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">fun </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-subgraph-builder-base/index.html">AIAgentSubgraphBuilderBase</a><span class="token operator">&lt;</span><span class="token operator">*</span><span class="token punctuation">, </span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">.</span><a href="node-execute-tool.html"><span class="token function">nodeExecuteTool</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">name<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a><span class="token operator">?</span><span class="token operator"> = </span>null</span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-node-delegate/index.html">AIAgentNodeDelegate</a><span class="token operator">&lt;</span><a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/-tool/-call/index.html">Message.Tool.Call</a><span class="token punctuation">, </span><a href="../ai.koog.agents.core.environment/-received-tool-result/index.html">ReceivedToolResult</a><span class="token operator">&gt;</span></div><div class="brief "><p class="paragraph">A node that executes a tool call and returns its result.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="-1634709537%2FFunctions%2F643085981" anchor-label="nodeLLMCompressHistory" id="-1634709537%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="node-l-l-m-compress-history.html"><span>node</span><wbr><span>LLMCompress</span><wbr><span><span>History</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-1634709537%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">inline </span><span class="token keyword">fun </span><span class="token operator">&lt;</span><a href="node-l-l-m-compress-history.html">T</a><span class="token operator">&gt; </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-subgraph-builder-base/index.html">AIAgentSubgraphBuilderBase</a><span class="token operator">&lt;</span><span class="token operator">*</span><span class="token punctuation">, </span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">.</span><a href="node-l-l-m-compress-history.html"><span class="token function">nodeLLMCompressHistory</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">name<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a><span class="token operator">?</span><span class="token operator"> = </span>null<span class="token punctuation">, </span></span><span class="parameter ">strategy<span class="token operator">: </span><a href="-history-compression-strategy/index.html">HistoryCompressionStrategy</a><span class="token operator"> = </span>HistoryCompressionStrategy.WholeHistory<span class="token punctuation">, </span></span><span class="parameter ">retrievalModel<span class="token operator">: </span><a href="../../../prompt/prompt-llm/ai.koog.prompt.llm/-l-l-model/index.html">LLModel</a><span class="token operator">?</span><span class="token operator"> = </span>null<span class="token punctuation">, </span></span><span class="parameter ">preserveMemory<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-boolean/index.html">Boolean</a><span class="token operator"> = </span><span class="token boolean">true</span></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-node-delegate/index.html">AIAgentNodeDelegate</a><span class="token operator">&lt;</span><a href="node-l-l-m-compress-history.html">T</a><span class="token punctuation">, </span><a href="node-l-l-m-compress-history.html">T</a><span class="token operator">&gt;</span></div><div class="brief "><p class="paragraph">A node that compresses the current LLM prompt (message history) into a summary, replacing messages with a TLDR.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="-1392220228%2FFunctions%2F643085981" anchor-label="nodeLLMModerateMessage" id="-1392220228%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="node-l-l-m-moderate-message.html"><span>node</span><wbr><span>LLMModerate</span><wbr><span><span>Message</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-1392220228%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">fun </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-subgraph-builder-base/index.html">AIAgentSubgraphBuilderBase</a><span class="token operator">&lt;</span><span class="token operator">*</span><span class="token punctuation">, </span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">.</span><a href="node-l-l-m-moderate-message.html"><span class="token function">nodeLLMModerateMessage</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">name<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a><span class="token operator">?</span><span class="token operator"> = </span>null<span class="token punctuation">, </span></span><span class="parameter ">moderatingModel<span class="token operator">: </span><a href="../../../prompt/prompt-llm/ai.koog.prompt.llm/-l-l-model/index.html">LLModel</a><span class="token operator">?</span><span class="token operator"> = </span>null<span class="token punctuation">, </span></span><span class="parameter ">includeCurrentPrompt<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-boolean/index.html">Boolean</a><span class="token operator"> = </span><span class="token boolean">false</span></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-node-delegate/index.html">AIAgentNodeDelegate</a><span class="token operator">&lt;</span><a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/index.html">Message</a><span class="token punctuation">, </span><a href="-moderated-message/index.html">ModeratedMessage</a><span class="token operator">&gt;</span></div><div class="brief "><p class="paragraph">A node that moderates only a single input message using a specified language model.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="-312675009%2FFunctions%2F643085981" anchor-label="nodeLLMRequest" id="-312675009%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="node-l-l-m-request.html"><span>node</span><wbr><span><span>LLMRequest</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-312675009%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">fun </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-subgraph-builder-base/index.html">AIAgentSubgraphBuilderBase</a><span class="token operator">&lt;</span><span class="token operator">*</span><span class="token punctuation">, </span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">.</span><a href="node-l-l-m-request.html"><span class="token function">nodeLLMRequest</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">name<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a><span class="token operator">?</span><span class="token operator"> = </span>null<span class="token punctuation">, </span></span><span class="parameter ">allowToolCalls<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-boolean/index.html">Boolean</a><span class="token operator"> = </span><span class="token boolean">true</span></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-node-delegate/index.html">AIAgentNodeDelegate</a><span class="token operator">&lt;</span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a><span class="token punctuation">, </span><a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/-response/index.html">Message.Response</a><span class="token operator">&gt;</span></div><div class="brief "><p class="paragraph">A node that appends a user message to the LLM prompt and gets a response with optional tool usage.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="-971727147%2FFunctions%2F643085981" anchor-label="nodeLLMRequestMultiple" id="-971727147%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="node-l-l-m-request-multiple.html"><span>node</span><wbr><span>LLMRequest</span><wbr><span><span>Multiple</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-971727147%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">fun </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-subgraph-builder-base/index.html">AIAgentSubgraphBuilderBase</a><span class="token operator">&lt;</span><span class="token operator">*</span><span class="token punctuation">, </span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">.</span><a href="node-l-l-m-request-multiple.html"><span class="token function">nodeLLMRequestMultiple</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">name<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a><span class="token operator">?</span><span class="token operator"> = </span>null</span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-node-delegate/index.html">AIAgentNodeDelegate</a><span class="token operator">&lt;</span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a><span class="token punctuation">, </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.collections/-list/index.html">List</a><span class="token operator">&lt;</span><a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/-response/index.html">Message.Response</a><span class="token operator">&gt;</span><span class="token operator">&gt;</span></div><div class="brief "><p class="paragraph">A node that appends a user message to the LLM prompt and gets multiple LLM responses with tool calls enabled.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="-1959617305%2FFunctions%2F643085981" anchor-label="nodeLLMRequestStreaming" id="-1959617305%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="node-l-l-m-request-streaming.html"><span>node</span><wbr><span>LLMRequest</span><wbr><span><span>Streaming</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-1959617305%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">fun </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-subgraph-builder-base/index.html">AIAgentSubgraphBuilderBase</a><span class="token operator">&lt;</span><span class="token operator">*</span><span class="token punctuation">, </span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">.</span><a href="node-l-l-m-request-streaming.html"><span class="token function">nodeLLMRequestStreaming</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">name<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a><span class="token operator">?</span><span class="token operator"> = </span>null<span class="token punctuation">, </span></span><span class="parameter ">structureDefinition<span class="token operator">: </span><a href="../../../prompt/prompt-structure/ai.koog.prompt.structure/-structured-data-definition/index.html">StructuredDataDefinition</a><span class="token operator">?</span><span class="token operator"> = </span>null</span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-node-delegate/index.html">AIAgentNodeDelegate</a><span class="token operator">&lt;</span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a><span class="token punctuation">, </span><a href="https://kotlinlang.org/api/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.flow/-flow/index.html">Flow</a><span class="token operator">&lt;</span><a href="../../../prompt/prompt-model/ai.koog.prompt.streaming/-stream-frame/index.html">StreamFrame</a><span class="token operator">&gt;</span><span class="token operator">&gt;</span></div><div class="brief "><p class="paragraph">A node that appends a user message to the LLM prompt and streams LLM response without transformation.</p></div><div class="symbol monospace"><span class="token keyword">fun </span><span class="token operator">&lt;</span><a href="node-l-l-m-request-streaming.html">T</a><span class="token operator">&gt; </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-subgraph-builder-base/index.html">AIAgentSubgraphBuilderBase</a><span class="token operator">&lt;</span><span class="token operator">*</span><span class="token punctuation">, </span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">.</span><a href="node-l-l-m-request-streaming.html"><span class="token function">nodeLLMRequestStreaming</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">name<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a><span class="token operator">?</span><span class="token operator"> = </span>null<span class="token punctuation">, </span></span><span class="parameter ">structureDefinition<span class="token operator">: </span><a href="../../../prompt/prompt-structure/ai.koog.prompt.structure/-structured-data-definition/index.html">StructuredDataDefinition</a><span class="token operator">?</span><span class="token operator"> = </span>null<span class="token punctuation">, </span></span><span class="parameter ">transformStreamData<span class="token operator">: </span><span class="token keyword">suspend </span><span class="token punctuation">(</span><a href="https://kotlinlang.org/api/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.flow/-flow/index.html">Flow</a><span class="token operator">&lt;</span><a href="../../../prompt/prompt-model/ai.koog.prompt.streaming/-stream-frame/index.html">StreamFrame</a><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token operator"> -&gt; </span><a href="https://kotlinlang.org/api/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.flow/-flow/index.html">Flow</a><span class="token operator">&lt;</span><a href="node-l-l-m-request-streaming.html">T</a><span class="token operator">&gt;</span></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-node-delegate/index.html">AIAgentNodeDelegate</a><span class="token operator">&lt;</span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a><span class="token punctuation">, </span><a href="https://kotlinlang.org/api/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.flow/-flow/index.html">Flow</a><span class="token operator">&lt;</span><a href="node-l-l-m-request-streaming.html">T</a><span class="token operator">&gt;</span><span class="token operator">&gt;</span></div><div class="brief "><p class="paragraph">A node that appends a user message to the LLM prompt, streams LLM response and transforms the stream data.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="-591248937%2FFunctions%2F643085981" anchor-label="nodeLLMRequestStreamingAndSendResults" id="-591248937%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="node-l-l-m-request-streaming-and-send-results.html"><span>node</span><wbr><span>LLMRequest</span><wbr><span>Streaming</span><wbr><span>And</span><wbr><span>Send</span><wbr><span><span>Results</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-591248937%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">inline </span><span class="token keyword">fun </span><span class="token operator">&lt;</span><a href="node-l-l-m-request-streaming-and-send-results.html">T</a><span class="token operator">&gt; </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-subgraph-builder-base/index.html">AIAgentSubgraphBuilderBase</a><span class="token operator">&lt;</span><span class="token operator">*</span><span class="token punctuation">, </span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">.</span><a href="node-l-l-m-request-streaming-and-send-results.html"><span class="token function">nodeLLMRequestStreamingAndSendResults</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">name<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a><span class="token operator">?</span><span class="token operator"> = </span>null<span class="token punctuation">, </span></span><span class="parameter ">structureDefinition<span class="token operator">: </span><a href="../../../prompt/prompt-structure/ai.koog.prompt.structure/-structured-data-definition/index.html">StructuredDataDefinition</a><span class="token operator">?</span><span class="token operator"> = </span>null</span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-node-delegate/index.html">AIAgentNodeDelegate</a><span class="token operator">&lt;</span><a href="node-l-l-m-request-streaming-and-send-results.html">T</a><span class="token punctuation">, </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.collections/-list/index.html">List</a><span class="token operator">&lt;</span><a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/-response/index.html">Message.Response</a><span class="token operator">&gt;</span><span class="token operator">&gt;</span></div><div class="brief "><p class="paragraph">A node that performs LLM streaming, collects all stream frames, converts them to response messages, and updates the prompt with the results.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="1534402841%2FFunctions%2F643085981" anchor-label="nodeLLMRequestStructured" id="1534402841%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="node-l-l-m-request-structured.html"><span>node</span><wbr><span>LLMRequest</span><wbr><span><span>Structured</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="1534402841%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">inline </span><span class="token keyword">fun </span><span class="token operator">&lt;</span><a href="node-l-l-m-request-structured.html">T</a><span class="token operator">&gt; </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-subgraph-builder-base/index.html">AIAgentSubgraphBuilderBase</a><span class="token operator">&lt;</span><span class="token operator">*</span><span class="token punctuation">, </span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">.</span><a href="node-l-l-m-request-structured.html"><span class="token function">nodeLLMRequestStructured</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">name<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a><span class="token operator">?</span><span class="token operator"> = </span>null<span class="token punctuation">, </span></span><span class="parameter ">config<span class="token operator">: </span><a href="../../../prompt/prompt-structure/ai.koog.prompt.structure/-structured-output-config/index.html">StructuredOutputConfig</a><span class="token operator">&lt;</span><a href="node-l-l-m-request-structured.html">T</a><span class="token operator">&gt;</span></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-node-delegate/index.html">AIAgentNodeDelegate</a><span class="token operator">&lt;</span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a><span class="token punctuation">, </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-result/index.html">Result</a><span class="token operator">&lt;</span><a href="../../../prompt/prompt-structure/ai.koog.prompt.structure/-structured-response/index.html">StructuredResponse</a><span class="token operator">&lt;</span><a href="node-l-l-m-request-structured.html">T</a><span class="token operator">&gt;</span><span class="token operator">&gt;</span><span class="token operator">&gt;</span></div><div class="symbol monospace"><span class="token keyword">inline </span><span class="token keyword">fun </span><span class="token operator">&lt;</span><a href="node-l-l-m-request-structured.html">T</a><span class="token operator">&gt; </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-subgraph-builder-base/index.html">AIAgentSubgraphBuilderBase</a><span class="token operator">&lt;</span><span class="token operator">*</span><span class="token punctuation">, </span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">.</span><a href="node-l-l-m-request-structured.html"><span class="token function">nodeLLMRequestStructured</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">name<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a><span class="token operator">?</span><span class="token operator"> = </span>null<span class="token punctuation">, </span></span><span class="parameter ">examples<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.collections/-list/index.html">List</a><span class="token operator">&lt;</span><a href="node-l-l-m-request-structured.html">T</a><span class="token operator">&gt;</span><span class="token operator"> = </span>emptyList()<span class="token punctuation">, </span></span><span class="parameter ">fixingParser<span class="token operator">: </span><a href="../../../prompt/prompt-structure/ai.koog.prompt.structure/-structure-fixing-parser/index.html">StructureFixingParser</a><span class="token operator">?</span><span class="token operator"> = </span>null</span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-node-delegate/index.html">AIAgentNodeDelegate</a><span class="token operator">&lt;</span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a><span class="token punctuation">, </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-result/index.html">Result</a><span class="token operator">&lt;</span><a href="../../../prompt/prompt-structure/ai.koog.prompt.structure/-structured-response/index.html">StructuredResponse</a><span class="token operator">&lt;</span><a href="node-l-l-m-request-structured.html">T</a><span class="token operator">&gt;</span><span class="token operator">&gt;</span><span class="token operator">&gt;</span></div><div class="brief "><p class="paragraph">A node that appends a user message to the LLM prompt and requests structured data from the LLM with optional error correction capabilities.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="1523809067%2FFunctions%2F643085981" anchor-label="nodeLLMSendMessageForceOneTool" id="1523809067%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="node-l-l-m-send-message-force-one-tool.html"><span>node</span><wbr><span>LLMSend</span><wbr><span>Message</span><wbr><span>Force</span><wbr><span>One</span><wbr><span><span>Tool</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="1523809067%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">fun </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-subgraph-builder-base/index.html">AIAgentSubgraphBuilderBase</a><span class="token operator">&lt;</span><span class="token operator">*</span><span class="token punctuation">, </span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">.</span><a href="node-l-l-m-send-message-force-one-tool.html"><span class="token function">nodeLLMSendMessageForceOneTool</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">name<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a><span class="token operator">?</span><span class="token operator"> = </span>null<span class="token punctuation">, </span></span><span class="parameter ">tool<span class="token operator">: </span><a href="../../../agents/agents-tools/ai.koog.agents.core.tools/-tool-descriptor/index.html">ToolDescriptor</a></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-node-delegate/index.html">AIAgentNodeDelegate</a><span class="token operator">&lt;</span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a><span class="token punctuation">, </span><a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/-response/index.html">Message.Response</a><span class="token operator">&gt;</span></div><div class="brief "><p class="paragraph">A node that that appends a user message to the LLM prompt and forces the LLM to use a specific tool.</p></div><div class="symbol monospace"><span class="token keyword">fun </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-subgraph-builder-base/index.html">AIAgentSubgraphBuilderBase</a><span class="token operator">&lt;</span><span class="token operator">*</span><span class="token punctuation">, </span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">.</span><a href="node-l-l-m-send-message-force-one-tool.html"><span class="token function">nodeLLMSendMessageForceOneTool</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">name<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a><span class="token operator">?</span><span class="token operator"> = </span>null<span class="token punctuation">, </span></span><span class="parameter ">tool<span class="token operator">: </span><a href="../../../agents/agents-tools/ai.koog.agents.core.tools/-tool/index.html">Tool</a><span class="token operator">&lt;</span><span class="token operator">*</span><span class="token punctuation">, </span><span class="token operator">*</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-node-delegate/index.html">AIAgentNodeDelegate</a><span class="token operator">&lt;</span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a><span class="token punctuation">, </span><a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/-response/index.html">Message.Response</a><span class="token operator">&gt;</span></div><div class="brief "><p class="paragraph">A node that appends a user message to the LLM prompt and forces the LLM to use a specific tool.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="-215427688%2FFunctions%2F643085981" anchor-label="nodeLLMSendMessageOnlyCallingTools" id="-215427688%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="node-l-l-m-send-message-only-calling-tools.html"><span>node</span><wbr><span>LLMSend</span><wbr><span>Message</span><wbr><span>Only</span><wbr><span>Calling</span><wbr><span><span>Tools</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-215427688%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">fun </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-subgraph-builder-base/index.html">AIAgentSubgraphBuilderBase</a><span class="token operator">&lt;</span><span class="token operator">*</span><span class="token punctuation">, </span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">.</span><a href="node-l-l-m-send-message-only-calling-tools.html"><span class="token function">nodeLLMSendMessageOnlyCallingTools</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">name<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a><span class="token operator">?</span><span class="token operator"> = </span>null</span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-node-delegate/index.html">AIAgentNodeDelegate</a><span class="token operator">&lt;</span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a><span class="token punctuation">, </span><a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/-response/index.html">Message.Response</a><span class="token operator">&gt;</span></div><div class="brief "><p class="paragraph">A node that appends a user message to the LLM prompt and gets a response where the LLM can only call tools.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="898657852%2FFunctions%2F643085981" anchor-label="nodeLLMSendMultipleToolResults" id="898657852%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="node-l-l-m-send-multiple-tool-results.html"><span>node</span><wbr><span>LLMSend</span><wbr><span>Multiple</span><wbr><span>Tool</span><wbr><span><span>Results</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="898657852%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">fun </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-subgraph-builder-base/index.html">AIAgentSubgraphBuilderBase</a><span class="token operator">&lt;</span><span class="token operator">*</span><span class="token punctuation">, </span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">.</span><a href="node-l-l-m-send-multiple-tool-results.html"><span class="token function">nodeLLMSendMultipleToolResults</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">name<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a><span class="token operator">?</span><span class="token operator"> = </span>null</span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-node-delegate/index.html">AIAgentNodeDelegate</a><span class="token operator">&lt;</span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.collections/-list/index.html">List</a><span class="token operator">&lt;</span><a href="../ai.koog.agents.core.environment/-received-tool-result/index.html">ReceivedToolResult</a><span class="token operator">&gt;</span><span class="token punctuation">, </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.collections/-list/index.html">List</a><span class="token operator">&lt;</span><a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/-response/index.html">Message.Response</a><span class="token operator">&gt;</span><span class="token operator">&gt;</span></div><div class="brief "><p class="paragraph">A node that adds multiple tool results to the prompt and gets multiple LLM responses.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="1445930627%2FFunctions%2F643085981" anchor-label="nodeLLMSendToolResult" id="1445930627%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="node-l-l-m-send-tool-result.html"><span>node</span><wbr><span>LLMSend</span><wbr><span>Tool</span><wbr><span><span>Result</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="1445930627%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">fun </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-subgraph-builder-base/index.html">AIAgentSubgraphBuilderBase</a><span class="token operator">&lt;</span><span class="token operator">*</span><span class="token punctuation">, </span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">.</span><a href="node-l-l-m-send-tool-result.html"><span class="token function">nodeLLMSendToolResult</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">name<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a><span class="token operator">?</span><span class="token operator"> = </span>null</span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-node-delegate/index.html">AIAgentNodeDelegate</a><span class="token operator">&lt;</span><a href="../ai.koog.agents.core.environment/-received-tool-result/index.html">ReceivedToolResult</a><span class="token punctuation">, </span><a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/-response/index.html">Message.Response</a><span class="token operator">&gt;</span></div><div class="brief "><p class="paragraph">A node that adds a tool result to the prompt and requests an LLM response.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="2100255403%2FFunctions%2F643085981" anchor-label="nodeSetStructuredOutput" id="2100255403%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="node-set-structured-output.html"><span>node</span><wbr><span>Set</span><wbr><span>Structured</span><wbr><span><span>Output</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="2100255403%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">inline </span><span class="token keyword">fun </span><span class="token operator">&lt;</span><a href="node-set-structured-output.html">TInput</a><span class="token punctuation">, </span><a href="node-set-structured-output.html">T</a><span class="token operator">&gt; </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-subgraph-builder-base/index.html">AIAgentSubgraphBuilderBase</a><span class="token operator">&lt;</span><span class="token operator">*</span><span class="token punctuation">, </span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">.</span><a href="node-set-structured-output.html"><span class="token function">nodeSetStructuredOutput</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">name<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a><span class="token operator">?</span><span class="token operator"> = </span>null<span class="token punctuation">, </span></span><span class="parameter ">config<span class="token operator">: </span><a href="../../../prompt/prompt-structure/ai.koog.prompt.structure/-structured-output-config/index.html">StructuredOutputConfig</a><span class="token operator">&lt;</span><a href="node-set-structured-output.html">T</a><span class="token operator">&gt;</span></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-node-delegate/index.html">AIAgentNodeDelegate</a><span class="token operator">&lt;</span><a href="node-set-structured-output.html">TInput</a><span class="token punctuation">, </span><a href="node-set-structured-output.html">TInput</a><span class="token operator">&gt;</span></div><div class="brief "><p class="paragraph">Creates a node that sets up a structured output for an AI agent subgraph.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="928462062%2FFunctions%2F643085981" anchor-label="nodeUpdatePrompt" id="928462062%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="node-update-prompt.html"><span>node</span><wbr><span>Update</span><wbr><span><span>Prompt</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="928462062%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">inline </span><span class="token keyword">fun </span><span class="token operator">&lt;</span><a href="node-update-prompt.html">T</a><span class="token operator">&gt; </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-subgraph-builder-base/index.html">AIAgentSubgraphBuilderBase</a><span class="token operator">&lt;</span><span class="token operator">*</span><span class="token punctuation">, </span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">.</span><a href="node-update-prompt.html"><span class="token function"><strike>nodeUpdatePrompt</strike></span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">name<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a><span class="token operator">?</span><span class="token operator"> = </span>null<span class="token punctuation">, </span></span><span class="parameter "><span class="token keyword">noinline </span>body<span class="token operator">: </span><a href="../../../prompt/prompt-model/ai.koog.prompt.dsl/-prompt-builder/index.html">PromptBuilder</a><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator"> -&gt; </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-unit/index.html">Unit</a></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-node-delegate/index.html">AIAgentNodeDelegate</a><span class="token operator">&lt;</span><a href="node-update-prompt.html">T</a><span class="token punctuation">, </span><a href="node-update-prompt.html">T</a><span class="token operator">&gt;</span></div><div class="brief "><p class="paragraph">A node that adds messages to the LLM prompt using the provided prompt builder. The input is passed as it is to the output.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="-1800219496%2FFunctions%2F643085981" anchor-label="onAssistantMessage" id="-1800219496%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="on-assistant-message.html"><span>on</span><wbr><span>Assistant</span><wbr><span><span>Message</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-1800219496%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">infix </span><span class="token keyword">fun </span><span class="token operator">&lt;</span><a href="on-assistant-message.html">IncomingOutput</a><span class="token punctuation">, </span><a href="on-assistant-message.html">IntermediateOutput</a><span class="token punctuation">, </span><a href="on-assistant-message.html">OutgoingInput</a><span class="token operator">&gt; </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-edge-builder-intermediate/index.html">AIAgentEdgeBuilderIntermediate</a><span class="token operator">&lt;</span><a href="on-assistant-message.html">IncomingOutput</a><span class="token punctuation">, </span><a href="on-assistant-message.html">IntermediateOutput</a><span class="token punctuation">, </span><a href="on-assistant-message.html">OutgoingInput</a><span class="token operator">&gt;</span><span class="token punctuation">.</span><a href="on-assistant-message.html"><span class="token function">onAssistantMessage</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">block<span class="token operator">: </span><span class="token keyword">suspend </span><span class="token punctuation">(</span><a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/-assistant/index.html">Message.Assistant</a><span class="token punctuation">)</span><span class="token operator"> -&gt; </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-boolean/index.html">Boolean</a></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-edge-builder-intermediate/index.html">AIAgentEdgeBuilderIntermediate</a><span class="token operator">&lt;</span><a href="on-assistant-message.html">IncomingOutput</a><span class="token punctuation">, </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a><span class="token punctuation">, </span><a href="on-assistant-message.html">OutgoingInput</a><span class="token operator">&gt;</span></div><div class="brief "><p class="paragraph">Creates an edge that filters assistant messages based on a custom condition and extracts their content.</p></div><div class="symbol monospace"><span class="token keyword">inline </span><span class="token keyword">fun </span><a href="../ai.koog.agents.core.agent.context/-a-i-agent-functional-context/index.html">AIAgentFunctionalContext</a><span class="token punctuation">.</span><a href="on-assistant-message.html"><span class="token function">onAssistantMessage</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">response<span class="token operator">: </span><a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/-response/index.html">Message.Response</a><span class="token punctuation">, </span></span><span class="parameter ">action<span class="token operator">: </span><span class="token punctuation">(</span><a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/-assistant/index.html">Message.Assistant</a><span class="token punctuation">)</span><span class="token operator"> -&gt; </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-unit/index.html">Unit</a></span></span><span class="token punctuation">)</span></div><div class="brief "><p class="paragraph">Executes the provided action if the given response is of type <a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/-assistant/index.html">Message.Assistant</a>.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="-1821804139%2FFunctions%2F643085981" anchor-label="onAssistantMessageWithMedia" id="-1821804139%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="on-assistant-message-with-media.html"><span>on</span><wbr><span>Assistant</span><wbr><span>Message</span><wbr><span>With</span><wbr><span><span>Media</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-1821804139%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">infix </span><span class="token keyword">fun </span><span class="token operator">&lt;</span><a href="on-assistant-message-with-media.html">IncomingOutput</a><span class="token punctuation">, </span><a href="on-assistant-message-with-media.html">IntermediateOutput</a><span class="token punctuation">, </span><a href="on-assistant-message-with-media.html">OutgoingInput</a><span class="token operator">&gt; </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-edge-builder-intermediate/index.html">AIAgentEdgeBuilderIntermediate</a><span class="token operator">&lt;</span><a href="on-assistant-message-with-media.html">IncomingOutput</a><span class="token punctuation">, </span><a href="on-assistant-message-with-media.html">IntermediateOutput</a><span class="token punctuation">, </span><a href="on-assistant-message-with-media.html">OutgoingInput</a><span class="token operator">&gt;</span><span class="token punctuation">.</span><a href="on-assistant-message-with-media.html"><span class="token function">onAssistantMessageWithMedia</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">block<span class="token operator">: </span><span class="token keyword">suspend </span><span class="token punctuation">(</span><a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/-assistant/index.html">Message.Assistant</a><span class="token punctuation">)</span><span class="token operator"> -&gt; </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-boolean/index.html">Boolean</a></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-edge-builder-intermediate/index.html">AIAgentEdgeBuilderIntermediate</a><span class="token operator">&lt;</span><a href="on-assistant-message-with-media.html">IncomingOutput</a><span class="token punctuation">, </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.collections/-list/index.html">List</a><span class="token operator">&lt;</span><a href="../../../prompt/prompt-model/ai.koog.prompt.message/-content-part/-attachment/index.html">ContentPart.Attachment</a><span class="token operator">&gt;</span><span class="token punctuation">, </span><a href="on-assistant-message-with-media.html">OutgoingInput</a><span class="token operator">&gt;</span></div><div class="brief "><p class="paragraph">Creates an edge that filters assistant messages based on a custom condition and provides access to media content.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="1528536192%2FFunctions%2F643085981" anchor-label="onFailure" id="1528536192%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="on-failure.html"><span>on</span><wbr><span><span>Failure</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="1528536192%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">infix inline </span><span class="token keyword">fun </span><span class="token operator">&lt;</span><a href="on-failure.html">IncomingOutput</a><span class="token punctuation">, </span><a href="on-failure.html">OutgoingInput</a><span class="token punctuation">, </span><a href="on-failure.html">TResult</a><span class="token operator">&gt; </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-edge-builder-intermediate/index.html">AIAgentEdgeBuilderIntermediate</a><span class="token operator">&lt;</span><a href="on-failure.html">IncomingOutput</a><span class="token punctuation">, </span><a href="../ai.koog.agents.core.environment/-safe-tool/-result/index.html">SafeTool.Result</a><span class="token operator">&lt;</span><a href="on-failure.html">TResult</a><span class="token operator">&gt;</span><span class="token punctuation">, </span><a href="on-failure.html">OutgoingInput</a><span class="token operator">&gt;</span><span class="token punctuation">.</span><a href="on-failure.html"><span class="token function">onFailure</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter "><span class="token keyword">crossinline </span>condition<span class="token operator">: </span><span class="token keyword">suspend </span><span class="token punctuation">(</span>error<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a><span class="token punctuation">)</span><span class="token operator"> -&gt; </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-boolean/index.html">Boolean</a></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-edge-builder-intermediate/index.html">AIAgentEdgeBuilderIntermediate</a><span class="token operator">&lt;</span><a href="on-failure.html">IncomingOutput</a><span class="token punctuation">, </span><a href="../ai.koog.agents.core.environment/-safe-tool/-result/-failure/index.html">SafeTool.Result.Failure</a><span class="token operator">&lt;</span><a href="on-failure.html">TResult</a><span class="token operator">&gt;</span><span class="token punctuation">, </span><a href="on-failure.html">OutgoingInput</a><span class="token operator">&gt;</span></div><div class="brief "><p class="paragraph">Defines a handler to process failure cases in a directed edge strategy by applying a condition to filter intermediate results of type <code class="lang-kotlin">SafeTool.Result.Failure</code>. This method is used to specialize processing for failure results and to propagate or transform them based on the provided condition.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="-2088259731%2FFunctions%2F643085981" anchor-label="onIsInstance" id="-2088259731%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="on-is-instance.html"><span>on</span><wbr><span>Is</span><wbr><span><span>Instance</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-2088259731%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">infix inline </span><span class="token keyword">fun </span><span class="token operator">&lt;</span><a href="on-is-instance.html">IncomingOutput</a><span class="token punctuation">, </span><a href="on-is-instance.html">IntermediateOutput</a><span class="token punctuation">, </span><a href="on-is-instance.html">OutgoingInput</a><span class="token punctuation">, </span><a href="on-is-instance.html">T</a><span class="token operator"> : </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-any/index.html">Any</a><span class="token operator">&gt; </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-edge-builder-intermediate/index.html">AIAgentEdgeBuilderIntermediate</a><span class="token operator">&lt;</span><a href="on-is-instance.html">IncomingOutput</a><span class="token punctuation">, </span><a href="on-is-instance.html">IntermediateOutput</a><span class="token punctuation">, </span><a href="on-is-instance.html">OutgoingInput</a><span class="token operator">&gt;</span><span class="token punctuation">.</span><a href="on-is-instance.html"><span class="token function">onIsInstance</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">klass<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.reflect/-k-class/index.html">KClass</a><span class="token operator">&lt;</span><a href="on-is-instance.html">T</a><span class="token operator">&gt;</span></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-edge-builder-intermediate/index.html">AIAgentEdgeBuilderIntermediate</a><span class="token operator">&lt;</span><a href="on-is-instance.html">IncomingOutput</a><span class="token punctuation">, </span><a href="on-is-instance.html">T</a><span class="token punctuation">, </span><a href="on-is-instance.html">OutgoingInput</a><span class="token operator">&gt;</span></div><div class="brief "><p class="paragraph">Creates an edge that filters outputs based on their type.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="-114927469%2FFunctions%2F643085981" anchor-label="onMultipleAssistantMessages" id="-114927469%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="on-multiple-assistant-messages.html"><span>on</span><wbr><span>Multiple</span><wbr><span>Assistant</span><wbr><span><span>Messages</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-114927469%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">infix </span><span class="token keyword">fun </span><span class="token operator">&lt;</span><a href="on-multiple-assistant-messages.html">IncomingOutput</a><span class="token punctuation">, </span><a href="on-multiple-assistant-messages.html">OutgoingInput</a><span class="token operator">&gt; </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-edge-builder-intermediate/index.html">AIAgentEdgeBuilderIntermediate</a><span class="token operator">&lt;</span><a href="on-multiple-assistant-messages.html">IncomingOutput</a><span class="token punctuation">, </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.collections/-list/index.html">List</a><span class="token operator">&lt;</span><a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/-response/index.html">Message.Response</a><span class="token operator">&gt;</span><span class="token punctuation">, </span><a href="on-multiple-assistant-messages.html">OutgoingInput</a><span class="token operator">&gt;</span><span class="token punctuation">.</span><a href="on-multiple-assistant-messages.html"><span class="token function">onMultipleAssistantMessages</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">block<span class="token operator">: </span><span class="token keyword">suspend </span><span class="token punctuation">(</span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.collections/-list/index.html">List</a><span class="token operator">&lt;</span><a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/-assistant/index.html">Message.Assistant</a><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token operator"> -&gt; </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-boolean/index.html">Boolean</a></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-edge-builder-intermediate/index.html">AIAgentEdgeBuilderIntermediate</a><span class="token operator">&lt;</span><a href="on-multiple-assistant-messages.html">IncomingOutput</a><span class="token punctuation">, </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.collections/-list/index.html">List</a><span class="token operator">&lt;</span><a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/-assistant/index.html">Message.Assistant</a><span class="token operator">&gt;</span><span class="token punctuation">, </span><a href="on-multiple-assistant-messages.html">OutgoingInput</a><span class="token operator">&gt;</span></div><div class="brief "><p class="paragraph">Creates an edge that filters assistant messages based on a custom condition and extracts their content.</p></div><div class="symbol monospace"><span class="token keyword">inline </span><span class="token keyword">fun </span><a href="../ai.koog.agents.core.agent.context/-a-i-agent-functional-context/index.html">AIAgentFunctionalContext</a><span class="token punctuation">.</span><a href="on-multiple-assistant-messages.html"><span class="token function">onMultipleAssistantMessages</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">response<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.collections/-list/index.html">List</a><span class="token operator">&lt;</span><a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/-response/index.html">Message.Response</a><span class="token operator">&gt;</span><span class="token punctuation">, </span></span><span class="parameter ">action<span class="token operator">: </span><span class="token punctuation">(</span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.collections/-list/index.html">List</a><span class="token operator">&lt;</span><a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/-assistant/index.html">Message.Assistant</a><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token operator"> -&gt; </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-unit/index.html">Unit</a></span></span><span class="token punctuation">)</span></div><div class="brief "><p class="paragraph">Filters the provided list of response messages to include only assistant messages and, if the filtered list is not empty, performs the specified action with the filtered list.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="-197619361%2FFunctions%2F643085981" anchor-label="onMultipleToolCalls" id="-197619361%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="on-multiple-tool-calls.html"><span>on</span><wbr><span>Multiple</span><wbr><span>Tool</span><wbr><span><span>Calls</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-197619361%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">infix </span><span class="token keyword">fun </span><span class="token operator">&lt;</span><a href="on-multiple-tool-calls.html">IncomingOutput</a><span class="token punctuation">, </span><a href="on-multiple-tool-calls.html">OutgoingInput</a><span class="token operator">&gt; </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-edge-builder-intermediate/index.html">AIAgentEdgeBuilderIntermediate</a><span class="token operator">&lt;</span><a href="on-multiple-tool-calls.html">IncomingOutput</a><span class="token punctuation">, </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.collections/-list/index.html">List</a><span class="token operator">&lt;</span><a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/-response/index.html">Message.Response</a><span class="token operator">&gt;</span><span class="token punctuation">, </span><a href="on-multiple-tool-calls.html">OutgoingInput</a><span class="token operator">&gt;</span><span class="token punctuation">.</span><a href="on-multiple-tool-calls.html"><span class="token function">onMultipleToolCalls</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">block<span class="token operator">: </span><span class="token keyword">suspend </span><span class="token punctuation">(</span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.collections/-list/index.html">List</a><span class="token operator">&lt;</span><a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/-tool/-call/index.html">Message.Tool.Call</a><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token operator"> -&gt; </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-boolean/index.html">Boolean</a></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-edge-builder-intermediate/index.html">AIAgentEdgeBuilderIntermediate</a><span class="token operator">&lt;</span><a href="on-multiple-tool-calls.html">IncomingOutput</a><span class="token punctuation">, </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.collections/-list/index.html">List</a><span class="token operator">&lt;</span><a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/-tool/-call/index.html">Message.Tool.Call</a><span class="token operator">&gt;</span><span class="token punctuation">, </span><a href="on-multiple-tool-calls.html">OutgoingInput</a><span class="token operator">&gt;</span></div><div class="brief "><p class="paragraph">Creates an edge that filters lists of tool call messages based on a custom condition.</p></div><div class="symbol monospace"><span class="token keyword">inline </span><span class="token keyword">fun </span><a href="../ai.koog.agents.core.agent.context/-a-i-agent-functional-context/index.html">AIAgentFunctionalContext</a><span class="token punctuation">.</span><a href="on-multiple-tool-calls.html"><span class="token function">onMultipleToolCalls</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">response<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.collections/-list/index.html">List</a><span class="token operator">&lt;</span><a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/-response/index.html">Message.Response</a><span class="token operator">&gt;</span><span class="token punctuation">, </span></span><span class="parameter ">action<span class="token operator">: </span><span class="token punctuation">(</span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.collections/-list/index.html">List</a><span class="token operator">&lt;</span><a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/-tool/-call/index.html">Message.Tool.Call</a><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token operator"> -&gt; </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-unit/index.html">Unit</a></span></span><span class="token punctuation">)</span></div><div class="brief "><p class="paragraph">Invokes the provided action when multiple tool call messages are found within a given list of response messages. Filters the list of responses to include only instances of <code class="lang-kotlin">Message.Tool.Call</code> and executes the action on the filtered list if it is not empty.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="541753230%2FFunctions%2F643085981" anchor-label="onMultipleToolResults" id="541753230%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="on-multiple-tool-results.html"><span>on</span><wbr><span>Multiple</span><wbr><span>Tool</span><wbr><span><span>Results</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="541753230%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">infix </span><span class="token keyword">fun </span><span class="token operator">&lt;</span><a href="on-multiple-tool-results.html">IncomingOutput</a><span class="token punctuation">, </span><a href="on-multiple-tool-results.html">IntermediateOutput</a><span class="token punctuation">, </span><a href="on-multiple-tool-results.html">OutgoingInput</a><span class="token operator">&gt; </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-edge-builder-intermediate/index.html">AIAgentEdgeBuilderIntermediate</a><span class="token operator">&lt;</span><a href="on-multiple-tool-results.html">IncomingOutput</a><span class="token punctuation">, </span><a href="on-multiple-tool-results.html">IntermediateOutput</a><span class="token punctuation">, </span><a href="on-multiple-tool-results.html">OutgoingInput</a><span class="token operator">&gt;</span><span class="token punctuation">.</span><a href="on-multiple-tool-results.html"><span class="token function">onMultipleToolResults</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">block<span class="token operator">: </span><span class="token keyword">suspend </span><span class="token punctuation">(</span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.collections/-list/index.html">List</a><span class="token operator">&lt;</span><a href="../ai.koog.agents.core.environment/-received-tool-result/index.html">ReceivedToolResult</a><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token operator"> -&gt; </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-boolean/index.html">Boolean</a></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-edge-builder-intermediate/index.html">AIAgentEdgeBuilderIntermediate</a><span class="token operator">&lt;</span><a href="on-multiple-tool-results.html">IncomingOutput</a><span class="token punctuation">, </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.collections/-list/index.html">List</a><span class="token operator">&lt;</span><a href="../ai.koog.agents.core.environment/-received-tool-result/index.html">ReceivedToolResult</a><span class="token operator">&gt;</span><span class="token punctuation">, </span><a href="on-multiple-tool-results.html">OutgoingInput</a><span class="token operator">&gt;</span></div><div class="brief "><p class="paragraph">Creates an edge that filters lists of tool result messages based on a custom condition.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="-748333050%2FFunctions%2F643085981" anchor-label="onSuccessful" id="-748333050%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="on-successful.html"><span>on</span><wbr><span><span>Successful</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-748333050%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">infix inline </span><span class="token keyword">fun </span><span class="token operator">&lt;</span><a href="on-successful.html">IncomingOutput</a><span class="token punctuation">, </span><a href="on-successful.html">OutgoingInput</a><span class="token punctuation">, </span><a href="on-successful.html">TResult</a><span class="token operator">&gt; </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-edge-builder-intermediate/index.html">AIAgentEdgeBuilderIntermediate</a><span class="token operator">&lt;</span><a href="on-successful.html">IncomingOutput</a><span class="token punctuation">, </span><a href="../ai.koog.agents.core.environment/-safe-tool/-result/index.html">SafeTool.Result</a><span class="token operator">&lt;</span><a href="on-successful.html">TResult</a><span class="token operator">&gt;</span><span class="token punctuation">, </span><a href="on-successful.html">OutgoingInput</a><span class="token operator">&gt;</span><span class="token punctuation">.</span><a href="on-successful.html"><span class="token function">onSuccessful</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter "><span class="token keyword">crossinline </span>condition<span class="token operator">: </span><span class="token keyword">suspend </span><span class="token punctuation">(</span><a href="on-successful.html">TResult</a><span class="token punctuation">)</span><span class="token operator"> -&gt; </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-boolean/index.html">Boolean</a></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-edge-builder-intermediate/index.html">AIAgentEdgeBuilderIntermediate</a><span class="token operator">&lt;</span><a href="on-successful.html">IncomingOutput</a><span class="token punctuation">, </span><a href="../ai.koog.agents.core.environment/-safe-tool/-result/-success/index.html">SafeTool.Result.Success</a><span class="token operator">&lt;</span><a href="on-successful.html">TResult</a><span class="token operator">&gt;</span><span class="token punctuation">, </span><a href="on-successful.html">OutgoingInput</a><span class="token operator">&gt;</span></div><div class="brief "><p class="paragraph">Filters and transforms the intermediate outputs of the AI agent node based on the success results of a tool operation.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="848515313%2FFunctions%2F643085981" anchor-label="onToolCall" id="848515313%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="on-tool-call.html"><span>on</span><wbr><span>Tool</span><wbr><span><span>Call</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="848515313%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">infix </span><span class="token keyword">fun </span><span class="token operator">&lt;</span><a href="on-tool-call.html">IncomingOutput</a><span class="token punctuation">, </span><a href="on-tool-call.html">IntermediateOutput</a><span class="token punctuation">, </span><a href="on-tool-call.html">OutgoingInput</a><span class="token operator">&gt; </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-edge-builder-intermediate/index.html">AIAgentEdgeBuilderIntermediate</a><span class="token operator">&lt;</span><a href="on-tool-call.html">IncomingOutput</a><span class="token punctuation">, </span><a href="on-tool-call.html">IntermediateOutput</a><span class="token punctuation">, </span><a href="on-tool-call.html">OutgoingInput</a><span class="token operator">&gt;</span><span class="token punctuation">.</span><a href="on-tool-call.html"><span class="token function">onToolCall</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">tool<span class="token operator">: </span><a href="../../../agents/agents-tools/ai.koog.agents.core.tools/-tool/index.html">Tool</a><span class="token operator">&lt;</span><span class="token operator">*</span><span class="token punctuation">, </span><span class="token operator">*</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-edge-builder-intermediate/index.html">AIAgentEdgeBuilderIntermediate</a><span class="token operator">&lt;</span><a href="on-tool-call.html">IncomingOutput</a><span class="token punctuation">, </span><a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/-tool/-call/index.html">Message.Tool.Call</a><span class="token punctuation">, </span><a href="on-tool-call.html">OutgoingInput</a><span class="token operator">&gt;</span></div><div class="brief "><p class="paragraph">Creates an edge that filters tool call messages for a specific tool.</p></div><div class="symbol monospace"><span class="token keyword">infix </span><span class="token keyword">fun </span><span class="token operator">&lt;</span><a href="on-tool-call.html">IncomingOutput</a><span class="token punctuation">, </span><a href="on-tool-call.html">IntermediateOutput</a><span class="token punctuation">, </span><a href="on-tool-call.html">OutgoingInput</a><span class="token operator">&gt; </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-edge-builder-intermediate/index.html">AIAgentEdgeBuilderIntermediate</a><span class="token operator">&lt;</span><a href="on-tool-call.html">IncomingOutput</a><span class="token punctuation">, </span><a href="on-tool-call.html">IntermediateOutput</a><span class="token punctuation">, </span><a href="on-tool-call.html">OutgoingInput</a><span class="token operator">&gt;</span><span class="token punctuation">.</span><a href="on-tool-call.html"><span class="token function">onToolCall</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">block<span class="token operator">: </span><span class="token keyword">suspend </span><span class="token punctuation">(</span><a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/-tool/-call/index.html">Message.Tool.Call</a><span class="token punctuation">)</span><span class="token operator"> -&gt; </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-boolean/index.html">Boolean</a></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-edge-builder-intermediate/index.html">AIAgentEdgeBuilderIntermediate</a><span class="token operator">&lt;</span><a href="on-tool-call.html">IncomingOutput</a><span class="token punctuation">, </span><a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/-tool/-call/index.html">Message.Tool.Call</a><span class="token punctuation">, </span><a href="on-tool-call.html">OutgoingInput</a><span class="token operator">&gt;</span></div><div class="brief "><p class="paragraph">Creates an edge that filters tool call messages based on a custom condition.</p></div><div class="symbol monospace"><span class="token keyword">inline </span><span class="token keyword">fun </span><span class="token operator">&lt;</span><a href="on-tool-call.html">IncomingOutput</a><span class="token punctuation">, </span><a href="on-tool-call.html">IntermediateOutput</a><span class="token punctuation">, </span><a href="on-tool-call.html">OutgoingInput</a><span class="token punctuation">, </span><a href="on-tool-call.html">Args</a><span class="token operator">&gt; </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-edge-builder-intermediate/index.html">AIAgentEdgeBuilderIntermediate</a><span class="token operator">&lt;</span><a href="on-tool-call.html">IncomingOutput</a><span class="token punctuation">, </span><a href="on-tool-call.html">IntermediateOutput</a><span class="token punctuation">, </span><a href="on-tool-call.html">OutgoingInput</a><span class="token operator">&gt;</span><span class="token punctuation">.</span><a href="on-tool-call.html"><span class="token function">onToolCall</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">tool<span class="token operator">: </span><a href="../../../agents/agents-tools/ai.koog.agents.core.tools/-tool/index.html">Tool</a><span class="token operator">&lt;</span><a href="on-tool-call.html">Args</a><span class="token punctuation">, </span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">, </span></span><span class="parameter "><span class="token keyword">crossinline </span>block<span class="token operator">: </span><span class="token keyword">suspend </span><span class="token punctuation">(</span><a href="on-tool-call.html">Args</a><span class="token punctuation">)</span><span class="token operator"> -&gt; </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-boolean/index.html">Boolean</a></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-edge-builder-intermediate/index.html">AIAgentEdgeBuilderIntermediate</a><span class="token operator">&lt;</span><a href="on-tool-call.html">IncomingOutput</a><span class="token punctuation">, </span><a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/-tool/-call/index.html">Message.Tool.Call</a><span class="token punctuation">, </span><a href="on-tool-call.html">OutgoingInput</a><span class="token operator">&gt;</span></div><div class="brief "><p class="paragraph">Creates an edge that filters tool call messages for a specific tool and arguments condition.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="729356168%2FFunctions%2F643085981" anchor-label="onToolNotCalled" id="729356168%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="on-tool-not-called.html"><span>on</span><wbr><span>Tool</span><wbr><span>Not</span><wbr><span><span>Called</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="729356168%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">infix </span><span class="token keyword">fun </span><span class="token operator">&lt;</span><a href="on-tool-not-called.html">IncomingOutput</a><span class="token punctuation">, </span><a href="on-tool-not-called.html">IntermediateOutput</a><span class="token punctuation">, </span><a href="on-tool-not-called.html">OutgoingInput</a><span class="token operator">&gt; </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-edge-builder-intermediate/index.html">AIAgentEdgeBuilderIntermediate</a><span class="token operator">&lt;</span><a href="on-tool-not-called.html">IncomingOutput</a><span class="token punctuation">, </span><a href="on-tool-not-called.html">IntermediateOutput</a><span class="token punctuation">, </span><a href="on-tool-not-called.html">OutgoingInput</a><span class="token operator">&gt;</span><span class="token punctuation">.</span><a href="on-tool-not-called.html"><span class="token function">onToolNotCalled</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">tool<span class="token operator">: </span><a href="../../../agents/agents-tools/ai.koog.agents.core.tools/-tool/index.html">Tool</a><span class="token operator">&lt;</span><span class="token operator">*</span><span class="token punctuation">, </span><span class="token operator">*</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-edge-builder-intermediate/index.html">AIAgentEdgeBuilderIntermediate</a><span class="token operator">&lt;</span><a href="on-tool-not-called.html">IncomingOutput</a><span class="token punctuation">, </span><a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/-tool/-call/index.html">Message.Tool.Call</a><span class="token punctuation">, </span><a href="on-tool-not-called.html">OutgoingInput</a><span class="token operator">&gt;</span></div><div class="brief "><p class="paragraph">Creates an edge that filters tool call messages to NOT be a specific tool</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="-863036270%2FFunctions%2F643085981" anchor-label="onToolResult" id="-863036270%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="on-tool-result.html"><span>on</span><wbr><span>Tool</span><wbr><span><span>Result</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-863036270%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">inline </span><span class="token keyword">fun </span><span class="token operator">&lt;</span><a href="on-tool-result.html">IncomingOutput</a><span class="token punctuation">, </span><a href="on-tool-result.html">IntermediateOutput</a><span class="token punctuation">, </span><a href="on-tool-result.html">OutgoingInput</a><span class="token punctuation">, </span><a href="on-tool-result.html">Result</a><span class="token operator">&gt; </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-edge-builder-intermediate/index.html">AIAgentEdgeBuilderIntermediate</a><span class="token operator">&lt;</span><a href="on-tool-result.html">IncomingOutput</a><span class="token punctuation">, </span><a href="on-tool-result.html">IntermediateOutput</a><span class="token punctuation">, </span><a href="on-tool-result.html">OutgoingInput</a><span class="token operator">&gt;</span><span class="token punctuation">.</span><a href="on-tool-result.html"><span class="token function">onToolResult</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">tool<span class="token operator">: </span><a href="../../../agents/agents-tools/ai.koog.agents.core.tools/-tool/index.html">Tool</a><span class="token operator">&lt;</span><span class="token operator">*</span><span class="token punctuation">, </span><a href="on-tool-result.html">Result</a><span class="token operator">&gt;</span><span class="token punctuation">, </span></span><span class="parameter "><span class="token keyword">crossinline </span>block<span class="token operator">: </span><span class="token keyword">suspend </span><span class="token punctuation">(</span><a href="../ai.koog.agents.core.environment/-safe-tool/-result/index.html">SafeTool.Result</a><span class="token operator">&lt;</span><a href="on-tool-result.html">Result</a><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token operator"> -&gt; </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-boolean/index.html">Boolean</a></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../ai.koog.agents.core.dsl.builder/-a-i-agent-edge-builder-intermediate/index.html">AIAgentEdgeBuilderIntermediate</a><span class="token operator">&lt;</span><a href="on-tool-result.html">IncomingOutput</a><span class="token punctuation">, </span><a href="../ai.koog.agents.core.environment/-received-tool-result/index.html">ReceivedToolResult</a><span class="token punctuation">, </span><a href="on-tool-result.html">OutgoingInput</a><span class="token operator">&gt;</span></div><div class="brief "><p class="paragraph">Creates an edge that filters tool result messages for a specific tool and result condition.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="1496784419%2FFunctions%2F643085981" anchor-label="replaceHistoryWithTLDR" id="1496784419%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="replace-history-with-t-l-d-r.html"><span>replace</span><wbr><span>History</span><wbr><span>With</span><wbr><span><span>TLDR</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="1496784419%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">suspend </span><span class="token keyword">fun </span><a href="../ai.koog.agents.core.agent.session/-a-i-agent-l-l-m-write-session/index.html">AIAgentLLMWriteSession</a><span class="token punctuation">.</span><a href="replace-history-with-t-l-d-r.html"><span class="token function">replaceHistoryWithTLDR</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">strategy<span class="token operator">: </span><a href="-history-compression-strategy/index.html">HistoryCompressionStrategy</a><span class="token operator"> = </span>HistoryCompressionStrategy.WholeHistory<span class="token punctuation">, </span></span><span class="parameter ">preserveMemory<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-boolean/index.html">Boolean</a><span class="token operator"> = </span><span class="token boolean">true</span></span></span><span class="token punctuation">)</span></div><div class="brief "><p class="paragraph">Rewrites LLM message history, leaving only user message and resulting TLDR.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="2001643582%2FFunctions%2F643085981" anchor-label="requestLLM" id="2001643582%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="request-l-l-m.html"><span>request</span><wbr><span><span>LLM</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="2001643582%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">suspend </span><span class="token keyword">fun </span><a href="../ai.koog.agents.core.agent.context/-a-i-agent-functional-context/index.html">AIAgentFunctionalContext</a><span class="token punctuation">.</span><a href="request-l-l-m.html"><span class="token function">requestLLM</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">message<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a><span class="token punctuation">, </span></span><span class="parameter ">allowToolCalls<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-boolean/index.html">Boolean</a><span class="token operator"> = </span><span class="token boolean">true</span></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/-response/index.html">Message.Response</a></div><div class="brief "><p class="paragraph">Sends a message to a Large Language Model (LLM) and optionally allows the use of tools during the LLM interaction. The message becomes part of the current prompt, and the LLM's response is processed accordingly, either with or without tool integrations based on the provided parameters.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="1264436685%2FFunctions%2F643085981" anchor-label="requestLLMForceOneTool" id="1264436685%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="request-l-l-m-force-one-tool.html"><span>request</span><wbr><span>LLMForce</span><wbr><span>One</span><wbr><span><span>Tool</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="1264436685%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">suspend </span><span class="token keyword">fun </span><a href="../ai.koog.agents.core.agent.context/-a-i-agent-functional-context/index.html">AIAgentFunctionalContext</a><span class="token punctuation">.</span><a href="request-l-l-m-force-one-tool.html"><span class="token function">requestLLMForceOneTool</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">message<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a><span class="token punctuation">, </span></span><span class="parameter ">tool<span class="token operator">: </span><a href="../../../agents/agents-tools/ai.koog.agents.core.tools/-tool-descriptor/index.html">ToolDescriptor</a></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/-response/index.html">Message.Response</a></div><div class="symbol monospace"><span class="token keyword">suspend </span><span class="token keyword">fun </span><a href="../ai.koog.agents.core.agent.context/-a-i-agent-functional-context/index.html">AIAgentFunctionalContext</a><span class="token punctuation">.</span><a href="request-l-l-m-force-one-tool.html"><span class="token function">requestLLMForceOneTool</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">message<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a><span class="token punctuation">, </span></span><span class="parameter ">tool<span class="token operator">: </span><a href="../../../agents/agents-tools/ai.koog.agents.core.tools/-tool/index.html">Tool</a><span class="token operator">&lt;</span><span class="token operator">*</span><span class="token punctuation">, </span><span class="token operator">*</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/-response/index.html">Message.Response</a></div><div class="brief "><p class="paragraph">Sends a message to a Large Language Model (LLM) and forces it to use a specific tool. The message becomes part of the current prompt, and the LLM is instructed to use only the specified tool.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="807065526%2FFunctions%2F643085981" anchor-label="requestLLMMultiple" id="807065526%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="request-l-l-m-multiple.html"><span>request</span><wbr><span><span>LLMMultiple</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="807065526%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">suspend </span><span class="token keyword">fun </span><a href="../ai.koog.agents.core.agent.context/-a-i-agent-functional-context/index.html">AIAgentFunctionalContext</a><span class="token punctuation">.</span><a href="request-l-l-m-multiple.html"><span class="token function">requestLLMMultiple</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">message<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.collections/-list/index.html">List</a><span class="token operator">&lt;</span><a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/-response/index.html">Message.Response</a><span class="token operator">&gt;</span></div><div class="brief "><p class="paragraph">Sends a message to a Large Language Model (LLM) and gets multiple LLM responses with tool calls enabled. The message becomes part of the current prompt, and multiple responses from the LLM are collected.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="1632803305%2FFunctions%2F643085981" anchor-label="requestLLMOnlyCallingTools" id="1632803305%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="request-l-l-m-only-calling-tools.html"><span>request</span><wbr><span>LLMOnly</span><wbr><span>Calling</span><wbr><span><span>Tools</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="1632803305%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">suspend </span><span class="token keyword">fun </span><a href="../ai.koog.agents.core.agent.context/-a-i-agent-functional-context/index.html">AIAgentFunctionalContext</a><span class="token punctuation">.</span><a href="request-l-l-m-only-calling-tools.html"><span class="token function">requestLLMOnlyCallingTools</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">message<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/-response/index.html">Message.Response</a></div><div class="brief "><p class="paragraph">Sends a message to a Large Language Model (LLM) that will only call tools without generating text responses. The message becomes part of the current prompt, and the LLM is instructed to only use tools.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="1055784257%2FFunctions%2F643085981" anchor-label="requestLLMStreaming" id="1055784257%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="request-l-l-m-streaming.html"><span>request</span><wbr><span><span>LLMStreaming</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="1055784257%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">suspend </span><span class="token keyword">fun </span><a href="../ai.koog.agents.core.agent.context/-a-i-agent-functional-context/index.html">AIAgentFunctionalContext</a><span class="token punctuation">.</span><a href="request-l-l-m-streaming.html"><span class="token function">requestLLMStreaming</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">message<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a><span class="token punctuation">, </span></span><span class="parameter ">structureDefinition<span class="token operator">: </span><a href="../../../prompt/prompt-structure/ai.koog.prompt.structure/-structured-data-definition/index.html">StructuredDataDefinition</a><span class="token operator">?</span><span class="token operator"> = </span>null</span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="https://kotlinlang.org/api/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.flow/-flow/index.html">Flow</a><span class="token operator">&lt;</span><a href="../../../prompt/prompt-model/ai.koog.prompt.streaming/-stream-frame/index.html">StreamFrame</a><span class="token operator">&gt;</span></div><div class="brief "><p class="paragraph">Sends a message to a Large Language Model (LLM) and streams the LLM response. The message becomes part of the current prompt, and the LLM's response is streamed as it's generated.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="1431511746%2FFunctions%2F643085981" anchor-label="requestLLMStructured" id="1431511746%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="request-l-l-m-structured.html"><span>request</span><wbr><span><span>LLMStructured</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="1431511746%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">inline suspend </span><span class="token keyword">fun </span><span class="token operator">&lt;</span><a href="request-l-l-m-structured.html">T</a><span class="token operator">&gt; </span><a href="../ai.koog.agents.core.agent.context/-a-i-agent-functional-context/index.html">AIAgentFunctionalContext</a><span class="token punctuation">.</span><a href="request-l-l-m-structured.html"><span class="token function">requestLLMStructured</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">message<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a><span class="token punctuation">, </span></span><span class="parameter ">examples<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.collections/-list/index.html">List</a><span class="token operator">&lt;</span><a href="request-l-l-m-structured.html">T</a><span class="token operator">&gt;</span><span class="token operator"> = </span>emptyList()<span class="token punctuation">, </span></span><span class="parameter ">fixingParser<span class="token operator">: </span><a href="../../../prompt/prompt-structure/ai.koog.prompt.structure/-structure-fixing-parser/index.html">StructureFixingParser</a><span class="token operator">?</span><span class="token operator"> = </span>null</span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-result/index.html">Result</a><span class="token operator">&lt;</span><a href="../../../prompt/prompt-structure/ai.koog.prompt.structure/-structured-response/index.html">StructuredResponse</a><span class="token operator">&lt;</span><a href="request-l-l-m-structured.html">T</a><span class="token operator">&gt;</span><span class="token operator">&gt;</span></div><div class="brief "><p class="paragraph">Sends a message to a Large Language Model (LLM) and requests structured data from the LLM with error correction capabilities. The message becomes part of the current prompt, and the LLM's response is processed to extract structured data.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="114856268%2FFunctions%2F643085981" anchor-label="sendMultipleToolResults" id="114856268%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="send-multiple-tool-results.html"><span>send</span><wbr><span>Multiple</span><wbr><span>Tool</span><wbr><span><span>Results</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="114856268%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">suspend </span><span class="token keyword">fun </span><a href="../ai.koog.agents.core.agent.context/-a-i-agent-functional-context/index.html">AIAgentFunctionalContext</a><span class="token punctuation">.</span><a href="send-multiple-tool-results.html"><span class="token function">sendMultipleToolResults</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">results<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.collections/-list/index.html">List</a><span class="token operator">&lt;</span><a href="../ai.koog.agents.core.environment/-received-tool-result/index.html">ReceivedToolResult</a><span class="token operator">&gt;</span></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.collections/-list/index.html">List</a><span class="token operator">&lt;</span><a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/-response/index.html">Message.Response</a><span class="token operator">&gt;</span></div><div class="brief "><p class="paragraph">Adds multiple tool results to the prompt and gets multiple LLM responses.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="779389907%2FFunctions%2F643085981" anchor-label="sendToolResult" id="779389907%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="send-tool-result.html"><span>send</span><wbr><span>Tool</span><wbr><span><span>Result</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="779389907%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">suspend </span><span class="token keyword">fun </span><a href="../ai.koog.agents.core.agent.context/-a-i-agent-functional-context/index.html">AIAgentFunctionalContext</a><span class="token punctuation">.</span><a href="send-tool-result.html"><span class="token function">sendToolResult</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">toolResult<span class="token operator">: </span><a href="../ai.koog.agents.core.environment/-received-tool-result/index.html">ReceivedToolResult</a></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../../../prompt/prompt-model/ai.koog.prompt.message/-message/-response/index.html">Message.Response</a></div><div class="brief "><p class="paragraph">Adds a tool result to the prompt and requests an LLM response.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="-1787424823%2FFunctions%2F643085981" anchor-label="setToolChoice" id="-1787424823%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="set-tool-choice.html"><span>set</span><wbr><span>Tool</span><wbr><span><span>Choice</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-1787424823%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">fun </span><a href="../ai.koog.agents.core.agent.session/-a-i-agent-l-l-m-write-session/index.html">AIAgentLLMWriteSession</a><span class="token punctuation">.</span><a href="set-tool-choice.html"><span class="token function">setToolChoice</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">toolChoice<span class="token operator">: </span><a href="../../../prompt/prompt-model/ai.koog.prompt.params/-l-l-m-params/-tool-choice/index.html">LLMParams.ToolChoice</a><span class="token operator">?</span></span></span><span class="token punctuation">)</span></div><div class="brief "><p class="paragraph">Sets the <a href="../../../prompt/prompt-model/ai.koog.prompt.params/-l-l-m-params/-tool-choice/index.html">ai.koog.prompt.params.LLMParams.ToolChoice</a> for this LLM session.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="-1797599863%2FFunctions%2F643085981" anchor-label="setToolChoiceAuto" id="-1797599863%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="set-tool-choice-auto.html"><span>set</span><wbr><span>Tool</span><wbr><span>Choice</span><wbr><span><span>Auto</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-1797599863%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">fun </span><a href="../ai.koog.agents.core.agent.session/-a-i-agent-l-l-m-write-session/index.html">AIAgentLLMWriteSession</a><span class="token punctuation">.</span><a href="set-tool-choice-auto.html"><span class="token function">setToolChoiceAuto</span></a><span class="token punctuation">(</span><span class="token punctuation">)</span></div><div class="brief "><p class="paragraph">Set the <a href="../../../prompt/prompt-model/ai.koog.prompt.params/-l-l-m-params/-tool-choice/index.html">ai.koog.prompt.params.LLMParams.ToolChoice</a> to <a href="../../../prompt/prompt-model/ai.koog.prompt.params/-l-l-m-params/-tool-choice/-auto/index.html">ai.koog.prompt.params.LLMParams.ToolChoice.Auto</a> to make LLM automatically decide between calling tools and generating text</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="-524903019%2FFunctions%2F643085981" anchor-label="setToolChoiceNamed" id="-524903019%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="set-tool-choice-named.html"><span>set</span><wbr><span>Tool</span><wbr><span>Choice</span><wbr><span><span>Named</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-524903019%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">fun </span><a href="../ai.koog.agents.core.agent.session/-a-i-agent-l-l-m-write-session/index.html">AIAgentLLMWriteSession</a><span class="token punctuation">.</span><a href="set-tool-choice-named.html"><span class="token function">setToolChoiceNamed</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">toolName<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a></span></span><span class="token punctuation">)</span></div><div class="brief "><p class="paragraph">Set the <a href="../../../prompt/prompt-model/ai.koog.prompt.params/-l-l-m-params/-tool-choice/index.html">ai.koog.prompt.params.LLMParams.ToolChoice</a> to <a href="../../../prompt/prompt-model/ai.koog.prompt.params/-l-l-m-params/-tool-choice/-none/index.html">ai.koog.prompt.params.LLMParams.ToolChoice.None</a> to make LLM call one specific tool <a href="set-tool-choice-named.html">toolName</a></p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="2081089312%2FFunctions%2F643085981" anchor-label="setToolChoiceNone" id="2081089312%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="set-tool-choice-none.html"><span>set</span><wbr><span>Tool</span><wbr><span>Choice</span><wbr><span><span>None</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="2081089312%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">fun </span><a href="../ai.koog.agents.core.agent.session/-a-i-agent-l-l-m-write-session/index.html">AIAgentLLMWriteSession</a><span class="token punctuation">.</span><a href="set-tool-choice-none.html"><span class="token function">setToolChoiceNone</span></a><span class="token punctuation">(</span><span class="token punctuation">)</span></div><div class="brief "><p class="paragraph">Set the <a href="../../../prompt/prompt-model/ai.koog.prompt.params/-l-l-m-params/-tool-choice/index.html">ai.koog.prompt.params.LLMParams.ToolChoice</a> to <a href="../../../prompt/prompt-model/ai.koog.prompt.params/-l-l-m-params/-tool-choice/-none/index.html">ai.koog.prompt.params.LLMParams.ToolChoice.None</a> to make LLM never call tools</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="559333785%2FFunctions%2F643085981" anchor-label="setToolChoiceRequired" id="559333785%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="set-tool-choice-required.html"><span>set</span><wbr><span>Tool</span><wbr><span>Choice</span><wbr><span><span>Required</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="559333785%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">fun </span><a href="../ai.koog.agents.core.agent.session/-a-i-agent-l-l-m-write-session/index.html">AIAgentLLMWriteSession</a><span class="token punctuation">.</span><a href="set-tool-choice-required.html"><span class="token function">setToolChoiceRequired</span></a><span class="token punctuation">(</span><span class="token punctuation">)</span></div><div class="brief "><p class="paragraph">Set the <a href="../../../prompt/prompt-model/ai.koog.prompt.params/-l-l-m-params/-tool-choice/index.html">ai.koog.prompt.params.LLMParams.ToolChoice</a> to <a href="../../../prompt/prompt-model/ai.koog.prompt.params/-l-l-m-params/-tool-choice/-required/index.html">ai.koog.prompt.params.LLMParams.ToolChoice.Required</a> to make LLM always call tools</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="1390430097%2FFunctions%2F643085981" anchor-label="unsetToolChoice" id="1390430097%2FFunctions%2F643085981" data-filterable-set=":agents:agents-core/commonMain"></a>
          <div class="table-row" data-filterable-current=":agents:agents-core/commonMain" data-filterable-set=":agents:agents-core/commonMain">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="unset-tool-choice.html"><span>unset</span><wbr><span>Tool</span><wbr><span><span>Choice</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="1390430097%2FFunctions%2F643085981"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":agents:agents-core/commonMain"><div class="symbol monospace"><span class="token keyword">fun </span><a href="../ai.koog.agents.core.agent.session/-a-i-agent-l-l-m-write-session/index.html">AIAgentLLMWriteSession</a><span class="token punctuation">.</span><a href="unset-tool-choice.html"><span class="token function">unsetToolChoice</span></a><span class="token punctuation">(</span><span class="token punctuation">)</span></div><div class="brief "><p class="paragraph">Unset the <a href="../../../prompt/prompt-model/ai.koog.prompt.params/-l-l-m-params/-tool-choice/index.html">ai.koog.prompt.params.LLMParams.ToolChoice</a>. Mostly, if left unspecified, the default value of this parameter is <a href="../../../prompt/prompt-model/ai.koog.prompt.params/-l-l-m-params/-tool-choice/-auto/index.html">ai.koog.prompt.params.LLMParams.ToolChoice.Auto</a></p></div></div></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
    <div class="footer">
        <a href="#content" id="go-to-top-link" class="footer--button footer--button_go-to-top"></a>
        <span>Copyright © 2000-2025 JetBrains s.r.o.</span>
        <span class="pull-right">
            <span>Generated by </span>
            <a class="footer--link footer--link_external" href="https://github.com/Kotlin/dokka">
                <span>dokka</span>
            </a>
        </span>
    </div>
            </div>
        </div>
    </div>
</body>
</html>
